# ==============================================================================
# GymGurus Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in the values for your environment.
# Required variables are marked — the app will not start without them.
# Optional variables enable additional features when set.
# ==============================================================================

# ------------------------------------------------------------------------------
# Database (REQUIRED — at least one method must be configured)
# ------------------------------------------------------------------------------
# Option 1: Full connection string (recommended)
DATABASE_URL=postgresql://user:password@localhost:5432/gymgurus

# Option 2: Individual PostgreSQL parameters
# PGHOST=localhost
# PGUSER=user
# PGPASSWORD=password
# PGDATABASE=gymgurus
# PGPORT=5432

# Option 3: Replit-managed database
# REPLIT_DB_URL=postgresql://...

# ------------------------------------------------------------------------------
# Authentication (REQUIRED in production)
# ------------------------------------------------------------------------------
# Session secret for express-session (minimum 32 characters)
# Generate with: openssl rand -base64 48
SESSION_SECRET=your-session-secret-here-min-32-chars

# Application URL (used for email links, password reset, etc.)
# In production: https://yourdomain.com
# In development: http://localhost:5000
APP_URL=http://localhost:5000

# Email Service — Resend (required for password reset emails)
# Get API key from https://resend.com/api-keys
RESEND_API_KEY=re_your-api-key-here
EMAIL_FROM=GymGurus <noreply@yourdomain.com>

# Google OAuth (optional — enables "Sign in with Google")
# Get credentials from https://console.cloud.google.com/apis/credentials
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# ------------------------------------------------------------------------------
# AI Features — Anthropic Claude (optional)
# ------------------------------------------------------------------------------
# Powers AI workout suggestions, nutrition advice, and coaching insights.
# The app falls back to template-based responses when not set.
ANTHROPIC_API_KEY=sk-ant-your-key-here

# ------------------------------------------------------------------------------
# Stripe Payments (optional)
# ------------------------------------------------------------------------------
# Enables subscription billing and payment processing.
# Get keys from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-secret-here

# Stripe publishable key (exposed to client via Vite)
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_your-key-here

# Stripe Price IDs — create products in the Stripe Dashboard first,
# then paste the generated price IDs below.
# Prices: Ronin $6.99/mo, Ronin AI $17.99/mo, Guru $24.99/mo, Pro Guru $29.99/mo
STRIPE_PRICE_ID_SOLO=price_xxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_ID_SOLO_AI=price_xxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_ID_TRAINER=price_xxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_ID_PRO=price_xxxxxxxxxxxxxxxxxxxx

# ------------------------------------------------------------------------------
# Analytics — Google Analytics (optional)
# ------------------------------------------------------------------------------
# Client-side analytics via gtag.js. Prefix with VITE_ so Vite exposes it.
VITE_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ------------------------------------------------------------------------------
# Media Storage — Cloudflare R2 (optional — required for photo uploads)
# ------------------------------------------------------------------------------
# S3-compatible object storage with 10GB free and no egress fees.
# Create a bucket at https://dash.cloudflare.com → R2 → Create Bucket
# Enable public access and set a custom domain or use the r2.dev subdomain.
CLOUDFLARE_R2_ACCOUNT_ID=your-account-id
CLOUDFLARE_R2_ACCESS_KEY_ID=your-access-key-id
CLOUDFLARE_R2_SECRET_ACCESS_KEY=your-secret-access-key
CLOUDFLARE_R2_BUCKET=gymgurus-media
CLOUDFLARE_R2_PUBLIC_URL=https://pub-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.r2.dev

# ------------------------------------------------------------------------------
# Media Generation — fal.ai (optional)
# ------------------------------------------------------------------------------
# AI-powered image generation for exercise demonstrations.
FAL_KEY=your-fal-ai-key-here

# ------------------------------------------------------------------------------
# Error Monitoring — Sentry (optional)
# ------------------------------------------------------------------------------
# Production error tracking. Only active when NODE_ENV=production.
SENTRY_DSN=https://your-sentry-dsn-here

# ------------------------------------------------------------------------------
# Session Store — Redis (optional)
# ------------------------------------------------------------------------------
# When set, sessions are stored in Redis instead of PostgreSQL.
# Recommended for production with multiple instances.
REDIS_URL=redis://localhost:6379

# ------------------------------------------------------------------------------
# Replit Platform (auto-set on Replit — do not configure manually)
# ------------------------------------------------------------------------------
# REPL_ID=<auto>
# REPLIT_DOMAINS=<auto>
# ISSUER_URL=<auto>

# ------------------------------------------------------------------------------
# Server Configuration
# ------------------------------------------------------------------------------
NODE_ENV=development
PORT=5000

# ------------------------------------------------------------------------------
# Development / Testing Overrides
# ------------------------------------------------------------------------------
# Set to "true" to disable per-user AI request limits (useful when testing AI
# features without burning through your daily quota). NEVER set in production.
# BYPASS_AI_LIMITS=true
